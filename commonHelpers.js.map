{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\n\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  inputDate: document.querySelector('#datetime-picker'),\n  btnStart: document.querySelector('[data-start]'),\n  daysVal: document.querySelector('[data-days]'),\n  hoursVal: document.querySelector('[data-hours]'),\n  minVal: document.querySelector('[data-minutes]'),\n  secVal: document.querySelector('[data-seconds]'),\n};\nlet ms;\n\nlet userSelecDate;\nconst data = Date.now();\n\nrefs.btnStart.addEventListener('click', onClickBtn);\nrefs.btnStart.disabled = true;\n\nconst flp = flatpickr(refs.inputDate, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0].getTime() - data < 0) {\n      iziToast.warning({\n        title: 'Caution',\n        message: '\"Please choose a date in the future\"',\n        position: 'topCenter',\n      });\n    } else {\n      iziToast.success({\n        title: 'OK',\n        position: 'topCenter',\n        message: 'Вітаю, дата вибрана добре',\n      });\n\n      refs.btnStart.disabled = false;\n      userSelecDate = selectedDates[0].getTime();\n    }\n  },\n});\n\nfunction onClickBtn() {\n  const id = setInterval(() => {\n    ms = userSelecDate - Date.now();\nrefs.inputDate.disabled = true;\n    refs.daysVal.textContent = addLeadingZero(convertMs(ms).days);\n    refs.hoursVal.textContent = addLeadingZero(convertMs(ms).hours);\n    refs.minVal.textContent = addLeadingZero(convertMs(ms).minutes);\n    refs.secVal.textContent = addLeadingZero(convertMs(ms).seconds);\n    setTimeout(() => {\n      clearInterval(id);\n      refs.inputDate.disabled = false;\n    }, ms);\n    \n  }, 1000);\n  refs.btnStart.disabled = true;\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n\n  const hours = Math.floor((ms % day) / hour);\n\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, 0);\n}\n"],"names":["refs","ms","userSelecDate","data","onClickBtn","flatpickr","selectedDates","iziToast","id","addLeadingZero","convertMs","days","hours","minutes","seconds","value"],"mappings":"+IAQA,MAAMA,EAAO,CACX,UAAW,SAAS,cAAc,kBAAkB,EACpD,SAAU,SAAS,cAAc,cAAc,EAC/C,QAAS,SAAS,cAAc,aAAa,EAC7C,SAAU,SAAS,cAAc,cAAc,EAC/C,OAAQ,SAAS,cAAc,gBAAgB,EAC/C,OAAQ,SAAS,cAAc,gBAAgB,CACjD,EACA,IAAIC,EAEAC,EACJ,MAAMC,EAAO,KAAK,MAElBH,EAAK,SAAS,iBAAiB,QAASI,CAAU,EAClDJ,EAAK,SAAS,SAAW,GAEbK,EAAUL,EAAK,UAAW,CACpC,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQM,EAAe,CACjBA,EAAc,CAAC,EAAE,QAAO,EAAKH,EAAO,EACtCI,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,uCACT,SAAU,WAClB,CAAO,GAEDA,EAAS,QAAQ,CACf,MAAO,KACP,SAAU,YACV,QAAS,2BACjB,CAAO,EAEDP,EAAK,SAAS,SAAW,GACzBE,EAAgBI,EAAc,CAAC,EAAE,QAAO,EAE3C,CACH,CAAC,EAED,SAASF,GAAa,CACpB,MAAMI,EAAK,YAAY,IAAM,CAC3BP,EAAKC,EAAgB,KAAK,MAC9BF,EAAK,UAAU,SAAW,GACtBA,EAAK,QAAQ,YAAcS,EAAeC,EAAUT,CAAE,EAAE,IAAI,EAC5DD,EAAK,SAAS,YAAcS,EAAeC,EAAUT,CAAE,EAAE,KAAK,EAC9DD,EAAK,OAAO,YAAcS,EAAeC,EAAUT,CAAE,EAAE,OAAO,EAC9DD,EAAK,OAAO,YAAcS,EAAeC,EAAUT,CAAE,EAAE,OAAO,EAC9D,WAAW,IAAM,CACf,cAAcO,CAAE,EAChBR,EAAK,UAAU,SAAW,EAC3B,EAAEC,CAAE,CAEN,EAAE,GAAI,EACPD,EAAK,SAAS,SAAW,EAC3B,CAEA,SAASU,EAAUT,EAAI,CAMrB,MAAMU,EAAO,KAAK,MAAMV,EAAK,KAAG,EAE1BW,EAAQ,KAAK,MAAOX,EAAK,MAAO,IAAI,EAEpCY,EAAU,KAAK,MAAQZ,EAAK,MAAO,KAAQ,GAAM,EAEjDa,EAAU,KAAK,MAASb,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAU,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASL,EAAeM,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,CAAC,CACpC"}